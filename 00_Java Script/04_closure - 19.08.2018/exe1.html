<!DOCTYPE html>
<html lang="en">

<head>
    <script>
        onload = () => {
            for (var i = 1; i <= 3; i++) {
                document.getElementById("a" + i).addEventListener('click', (function (index) {
                    let ii = index;
                    return function () {
                        alert(ii++);
                    }
                }(i)));
            }
            for (var i = 1; i <= 3; i++) {
                document.getElementById("b" + i).addEventListener('click', (function () {
                    let ii = 0;
                    return function () {
                        alert(ii++);
                    }
                }()));
            }
        }
    </script>
</head>

<body>
    <button id="a1">a1</button>
    <button id="a2">a2</button>
    <button id="a3">a3</button>
    </br>
    <button id="b1">b1</button>
    <button id="b2">b2</button>
    <button id="b3">b3</button>
</body>

</html>